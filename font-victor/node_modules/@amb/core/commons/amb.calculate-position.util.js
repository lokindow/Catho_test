"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var AMBCalculatePositionUtil=function(){function t(){this.positions=["left","top","right","bottom"],this.position=0,this.initialPosition=""}return t.prototype.reposition=function(t,e,o){var i=$(e).offset(),n=this.positionElements(t,e,o),s=$(document).width(),f=$(document).height(),r=i.left+n.left,l=s-i.left-$(e).width(),p=i.top+n.top,c=f-i.top-$(e).height();return r<0||p<0||l<n.left||c<n.top&&this.position<4?(""==this.initialPosition&&(this.initialPosition=o),this.reposition(t,e,this.positions[this.position++])):(this.initialPosition=o,{top:n.top,left:n.left,position:this.initialPosition})},t.prototype.positionElements=function(t,e,o,i){void 0===i&&(i=!1);var n,s=o,f=i?this.offset(t):this.calculatePosition(t),r=e.offsetWidth,l=e.offsetHeight,p={center:function(){return f.left+f.width/2-r/2},left:function(){return f.left},right:function(){return f.left+f.width}},c={center:function(){return f.top+f.height/2-l/2},top:function(){return f.top},bottom:function(){return f.top+f.height}};switch(s){case"right":n={top:c.center(),left:p[s]()};break;case"left":n={top:c.center(),left:f.left-r};break;case"bottom":n={top:c[s](),left:p.center()};break;default:n={top:f.top-l,left:p.center()}}return n},t.prototype.calculatePosition=function(t){var e={top:0,left:0},o=this.offset(t),i=this.parentOffsetEl(t);i!==window.document&&((e=this.offset(i)).top+=i.clientTop-i.scrollTop,e.left+=i.clientLeft-i.scrollLeft);var n=t.getBoundingClientRect();return{width:n.width||t.offsetWidth,height:n.height||t.offsetHeight,top:o.top-e.top,left:o.left-e.left}},t.prototype.offset=function(t){var e=t.getBoundingClientRect();return{width:e.width||t.offsetWidth,height:e.height||t.offsetHeight,top:e.top+(window.pageYOffset||window.document.documentElement.scrollTop),left:e.left+(window.pageXOffset||window.document.documentElement.scrollLeft)}},t.prototype.getStyle=function(t,e){return t.currentStyle?t.currentStyle[e]:window.getComputedStyle?window.getComputedStyle(t)[e]:t.style[e]},t.prototype.isStaticPositioned=function(t){return"static"===(this.getStyle(t,"position")||"static")},t.prototype.parentOffsetEl=function(t){for(var e=t.offsetParent||window.document;e&&e!==window.document&&this.isStaticPositioned(e);)e=e.offsetParent;return e||window.document},t}();exports.AMBCalculatePositionUtil=AMBCalculatePositionUtil;
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var core_1=require("@amb/core"),amb_login_service_1=require("../login/amb.login.service"),config_1=require("@amb/config"),amb_arq_execution_exception_1=require("../exceptions/amb.arq-execution-exception"),AMBCreatorRequest=function(){function e(e){this.storage=e,this.timeout=6e4,this.contentType="application/json",this.withCredentials=!0,this.baseUrl=config_1.AMBApplicationConfig.webServiceUrl,this.header={},this.loginService=new amb_login_service_1.AMBLoginService,this.header=this.loginService.configHeaderAMB(),this.header["Content-Type"]=this.contentType}return e.prototype.getRequest=function(e){return{method:"POST",url:e,crossDomain:!0,async:!1,headers:this.header,timeout:this.timeout,withCredentials:this.withCredentials}},e.prototype.postRequest=function(e,t){console.log("AdapterContext: "+e),console.log("Data: "+JSON.stringify(t));var i={method:"POST",url:this.baseUrl+e,crossDomain:!0,responseType:"json",timeout:this.timeout,async:!1,body:JSON.stringify(t),headers:this.header,withCredentials:!0};return console.log("Request: "+JSON.stringify(i)),i},e.prototype.loginPostRequest=function(e,t,i){if(0===i){var o=this.storage.getItem(core_1.AMBUser._authKey);this.header.Authorization="Basic "+o}else{if(2!==i&&1!==i)throw new amb_arq_execution_exception_1.AMBArchitectureExecutionException("Tipo de login inválido");t||(t={});var r={service:"obterNumeroSerieToken",request:{user:"I911140",pass:"senha002",segment:"",id:"",cc:""}};1===i&&(r.request.token=t.token),t=r}var n={method:"POST",url:this.baseUrl+e,crossDomain:!0,responseType:"json",async:!1,timeout:this.timeout,body:JSON.stringify(t),headers:this.header,withCredentials:!0};return console.log("Request: "+n),n},e.prototype.headRequest=function(e){return{method:"HEAD",url:e,headers:this.header,async:!1,timeout:this.timeout,withCredentials:!0}},e.prototype.putRequest=function(e,t){throw new amb_arq_execution_exception_1.AMBArchitectureExecutionException("Método não implementado")},e.prototype.getHeader=function(){return this.header},e}();exports.AMBCreatorRequest=AMBCreatorRequest;
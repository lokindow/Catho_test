"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var integrador_tf_1=require("@amb/integrador-tf"),AMBLoginService=function(){function e(){}return e.prototype.configHeaderAMB=function(){var e={},a=integrador_tf_1.AMBIntegradorTF.getIntegradorTF();return void 0==a&&null==a||this.addFWKHeaders(e,a),this.setHeaderAMB(e),this.getHeaderAMB()},e.prototype.addFWKHeaders=function(e,a){if(a.getHeaderFWK){var r=a.getHeaderFWK();r&&(this.createHeaderFWK(e,"codCanal",r,"getCodigoCanal"),!e.codCanal||"5"!=e.codCanal&&"05"!=e.codCanal||(e.codCanal="905"),this.createHeaderFWK(e,"dependente",r,"getDependenciaOperante"),this.createHeaderFWK(e,"empresa",r,"getEmpresaOperante"),this.createHeaderFWK(e,"idPeriferico",r,"getIdentificacaoPeriferico"),this.createHeaderFWK(e,"idioma",r,"getIdioma"),this.createHeaderFWK(e,"usuario",r,"getUsuario"),this.createHeaderFWK(e,"senha",r,"getSenha"),this.createHeaderFWK(e,"tipoUsuario",r,"getTipoUsuario"),this.createHeaderFWK(e,"dataLocal",r,"getDataFormatada",!0),this.createHeaderFWK(e,"horaLocal",r,"getHoraMinutoSegundo",!0))}},e.prototype.createHeaderFWK=function(e,a,r,t,o){void 0===o&&(o=!1);var i=this.getHeaderValue(r,t);console.log("HeaderValue: "+i),i&&""!=i.trim()&&!o?(console.log("ambHeader: "+e),e[a]=i,console.log("ambHeader[headerName]: "+e[a])):a&&o&&(e[a]=function(){return i})},e.prototype.getHeaderValue=function(e,a){console.log("headerFWK: "+e),console.log("headerFWKName: "+a),console.log("Objeto: "+e[a]);try{if(e[a])return e[a]()}catch(e){}return null},e.prototype.setHeaderAMB=function(a){this.configHeader={name:e.AMB_HEADER,value:a,withCrypto:!1}},e.prototype.getHeaderAMB=function(){var e={};if(this.configHeader.value){var a={};for(var r in this.configHeader.value)"function"==typeof this.configHeader.value[r]?a[r]=this.configHeader.value[r]():a[r]=this.configHeader.value[r];var t=null;this.configHeader.withCrypto||(t=JSON.stringify(a)),e[this.configHeader.name]=t}return e},e.AMB_HEADER="x-amb-header",e}();exports.AMBLoginService=AMBLoginService;
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("rxjs/BehaviorSubject"),require("rxjs/observable/from"),require("rxjs/operators")):"function"==typeof define&&define.amd?define(["exports","@angular/core","rxjs/BehaviorSubject","rxjs/observable/from","rxjs/operators"],t):t(e["ngx-highlightjs"]={},e.ng.core,e.Rx,e.Rx.Observable,e.Rx.Observable.prototype)}(this,function(e,t,i,n,o){"use strict";function r(t){return new e.ɵc(t)}var h=new t.InjectionToken("OPTIONS"),s=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,h=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(h=(r<3?o(h):r>3?o(t,i,h):o(t,i))||h);return r>3&&h&&Object.defineProperty(t,i,h),h},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};e.ɵc=function(){function e(e){this.options={theme:"github",path:"assets/lib/hljs",auto:!0},this.ready$=new i.BehaviorSubject(!1),this.options=Object.assign({},this.options,e),this.loadScript(),this.loadTheme()}return e.prototype.loadScript=function(){var e=this,t=document.createElement("script");t.async=!0,t.type="text/javascript",t.onload=function(){e.ready$.next(!0)},t.src=this.options.path+"/highlight.pack.js",document.head.appendChild(t)},e.prototype.loadTheme=function(){var e=document.createElement("link");e.rel="stylesheet",e.type="text/css",e.href=this.options.path+"/styles/"+this.options.theme+".css",document.head.appendChild(e)},e}(),e.ɵc=s([t.Injectable(),l(0,t.Optional()),l(0,t.Inject(h)),c("design:paramtypes",[Object])],e.ɵc);var a=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,h=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(h=(r<3?o(h):r>3?o(t,i,h):o(t,i))||h);return r>3&&h&&Object.defineProperty(t,i,h),h},p=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};e.ɵb=function(){function e(e,t,i){this.renderer=t,this.hl=i,this.hljsClass=!0,this.el=e.nativeElement}return Object.defineProperty(e.prototype,"setCode",{set:function(e){var t=this;this.code=e,this.hl.ready$.pipe(o.filter(function(e){return e}),o.take(1),o.tap(function(){return t.highlightElement(t.el,e)})).subscribe()},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;!this.code&&this.hl.options.auto&&this.hl.ready$.pipe(o.filter(function(e){return e}),o.take(1),o.tap(function(){e.highlightTextContent(),e.domObs=new MutationObserver(function(){return e.highlightTextContent()}),e.domObs.observe(e.el,{childList:!0,subtree:!0})})).subscribe()},e.prototype.highlightTextContent=function(){this.highlight?"all"===this.highlight?this.highlightChildren(this.el,"pre code"):this.highlightChildren(this.el,this.highlight):"code"===this.el.tagName.toLowerCase()?this.highlightElement(this.el,this.el.innerText.trim()):console.warn("[HighlightDirective]: Use 'highlight' on <code> elements only")},e.prototype.highlightElement=function(e,t){var i=hljs.highlightAuto(t).value;i!==e.innerHTML&&this.renderer.setProperty(e,"innerHTML",i)},e.prototype.highlightChildren=function(e,t){var i=this,r=e.querySelectorAll(t);n.from(r).pipe(o.filter(function(e){return 1===e.childNodes.length&&"#text"===e.childNodes[0].nodeName}),o.map(function(e){return i.highlightElement(e,e.innerText.trim())}),o.take(1)).subscribe()},e.prototype.ngOnDestroy=function(){!this.code&&this.hl.options.auto&&this.domObs.disconnect()},e}(),a([t.Input(),p("design:type",String)],e.ɵb.prototype,"highlight",void 0),a([t.Input("code"),p("design:type",String),p("design:paramtypes",[String])],e.ɵb.prototype,"setCode",null),a([t.HostBinding("class.hljs"),p("design:type",Object)],e.ɵb.prototype,"hljsClass",void 0),e.ɵb=a([t.Directive({selector:"[highlight]"}),p("design:paramtypes",[t.ElementRef,t.Renderer2,e.ɵc])],e.ɵb);var u=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,h=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(h=(r<3?o(h):r>3?o(t,i,h):o(t,i))||h);return r>3&&h&&Object.defineProperty(t,i,h),h};e.HighlightModule=f=function(){function t(){}return t.forRoot=function(t){return{ngModule:f,providers:[{provide:h,useValue:t},{provide:e.ɵc,useFactory:r,deps:[h]}]}},t}(),e.HighlightModule=f=u([t.NgModule({declarations:[e.ɵb],exports:[e.ɵb]})],e.HighlightModule);var f;e.ɵa=r,e.ɵd=h,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ngx-highlightjs.umd.min.js.map
